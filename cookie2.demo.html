<!DOCTYPE html>  
<html>  
<head>  
<meta charset="utf-8" />  
<title>无标题文档</title>   
</head>  
<body onload="init()">  
        <div id="msg"></div>
<script>
  /**//*** 

   * 读取指定的Cookie值

   * @param {string} cookieName Cookie名称

   */

   // 方法一：

   function getCookie(cookieName)

   {

      /**//* Cookie 字符串 */

      var theCookie = "" + document.cookie;



      /**//* 找到cookieName的位置 */

      var ind = theCookie.indexOf(cookieName);



      /**//* 如果未找到cookieName，返回空字符串 */

      if(ind == -1 || cookieName == "")

         return "";

      

       /**//* 确定分号的位置 */

       var ind1 = theCookie.indexOf(';', ind);

       if(ind1 == -1) 

            ind1 = theCookie.length;

       

       /**//* 读取Cookie值 */

       return unescape(theCookie.substring(ind+cookieName.length + 1, ind1));

   }



   // 方法二：

   function getCookie(cookieName)

   {

      var strCookie=document.cookie;



      // 将多cookie切割为多个名/值对

      var arrCookie=strCookie.split("; "); 



      for(var i=0;i<arrCookie.length;i++)

     { 

        // 遍历cookie数组，处理每个cookie对

         var arr=arrCookie[i].split("=");

       

        // 找到名称为cookieName的cookie，并返回它的值

         if(arr[0]=="username")

        return arr[1];

     }

       return "";

  }

  // Page2.html 页面初始加载执行的Js代码:

    function init() {

      // 从Cookie中读取用户名信息
      var username = getCookie("username");

     

        // 如果用户已经登录过
        if(username && username.length >0) {
          // 显示欢迎信息
          $("msg").innerHTML = "<h2>欢迎光临："+ username + "!</h2>";

        }

        else

        {

          $("msg").innerHTML = "<a href='cookie1.demo.html'>请返回，登录！</a>";

        }

    }



     function $(id)

     {

        return document.getElementById(id);

     }

     function deleteCookie(username){

        var date=new Date();

        // // 删除一个cookie，就是将其过期时间设定为一个过去的时间

        date.setTime(date.getTime()-10000); 

        document.cookie=name+"=v; expire=" + date.toGMTString();

     }
</script>
</body>  
</html>  