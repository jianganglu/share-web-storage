<!DOCTYPE html>  
<html>  
<head>  
<meta charset="utf-8" />  
<title>无标题文档</title>   
</head>  
<body>  
  <div id="main">
    <div>
      <label for="user">用户名：</label>
      <input type="text" id="user" />
    </div>
    <div>
      <label for="pass">密　码：</label>
      <input type="password" id="pass" />
    </div> 
    <div>
      <input type="checkbox" id="save" /> 七天内无需登录
    </div>
    <div>
      <input type="button" onclick="login()" value="登 录" />
    </div>
  </div>

  <script type="text/javascript">
  /**//***
  * 设置Cookie （通用函数）
  * @param {string} cookieName Cookie 名称
  * @param {string} cookieValue Cookie 值
  * @param {string} nDays Cookie 过期天数
  */
  function setCookie(cookieName, cookieValue, nDays) {
    /**//* 当前日期 */
    var today = new Date();
    /**//* Cookie 过期时间 */
    var expire = new Date();

    /**//* 如果未设置nDays参数或者nDays为0，取默认值 1 */
    if(nDays == null || nDays == 0) 
       nDays = 1;
    
     /**//* 计算Cookie过期时间 */
     expire.setTime(today.getTime() + nDays * 24 * 60 * 60 * 1000); //获取毫秒数
     /**//* 设置Cookie值 */
     document.cookie = cookieName + '=' + escape(cookieValue) + ';expires=' + expire.toGMTString();
  }

  // 登录函数
  function login() {
    // 用户名
    var username = $('user').value;
    // 用户密码
    var password = $('pass').value;
    // 我们这里设置一额外条件，交友登录用户选择
    // 是否7天内无需再登录，即可访问
    var save = $('save').checked;
     
    // 这里，假设一合法的用户名/密码是 admin/admin
    if(username == 'admin' && password == 'admin') {
      // 在Cookie中保存用户名
      if(save) {
        setCookie('username', username, 7);
      }else {
        setCookie('username', username, 1);
      }
   
      // 通过验证，跳转到下一页面
      document.location = 'cookie2.demo.html';
    }else {
      alert('用户名或密码错误！');
    }
  }

  function $(id) {
    return document.getElementById(id);
  }

  </script>

</body>  
</html>  